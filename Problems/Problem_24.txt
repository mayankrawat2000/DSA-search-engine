You are given a rooted tree consisting of nn vertices numbered from 11 to nn. The root is vertex 11. There is also a string ss denoting the color of each vertex: if si=Bsi=B, then vertex ii is black, and if si=Wsi=W, then vertex ii is white.
A subtree of the tree is called balanced if the number of white vertices equals the number of black vertices. Count the number of balanced subtrees.
A tree is a connected undirected graph without cycles. A rooted tree is a tree with a selected vertex, which is called the root. In this problem, all trees have root 11.
The tree is specified by an array of parents a2,…,ana2,…,an containing n−1n−1 numbers: aiai is the parent of the vertex with the number ii for all i=2,…,ni=2,…,n. The parent of a vertex uu is a vertex that is the next vertex on a simple path from uu to the root.
The subtree of a vertex uu is the set of all vertices that pass through uu on a simple path to the root. For example, in the picture below, 77 is in the subtree of 33 because the simple path 7→5→3→17→5→3→1 passes through 33. Note that a vertex is included in its subtree, and the subtree of the root is the entire tree.
  The picture shows the tree for n=7n=7, a=[1,1,2,3,3,5]a=[1,1,2,3,3,5], and s=WBBWWBWs=WBBWWBW. The subtree at the vertex 33 is balanced. 
