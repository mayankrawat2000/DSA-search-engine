Fillomino is a classic logic puzzle. (You do not need to know Fillomino in order to solve this problem.) In one classroom in Yunqi town, some volunteers are playing a board game variant of it:
Consider an nn by nn chessboard. Its rows are numbered from 11 to nn from the top to the bottom. Its columns are numbered from 11 to nn from the left to the right. A cell on an intersection of xx-th row and yy-th column is denoted (x,y)(x,y). The main diagonal of the chessboard is cells (x,x)(x,x) for all 1≤x≤n1≤x≤n.
A permutation of {1,2,3,…,n}{1,2,3,…,n} is written on the main diagonal of the chessboard. There is exactly one number written on each of the cells. The problem is to partition the cells under and on the main diagonal (there are exactly 1+2+…+n1+2+…+n such cells) into nn connected regions satisfying the following constraints:
  Every region should be connected. That means that we can move from any cell of a region to any other cell of the same region visiting only cells of the same region and moving from a cell to an adjacent cell.  The xx-th region should contain cell on the main diagonal with number xx for all 1≤x≤n1≤x≤n.  The number of cells that belong to the xx-th region should be equal to xx for all 1≤x≤n1≤x≤n.  Each cell under and on the main diagonal should belong to exactly one region. 
