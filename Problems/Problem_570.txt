In optical communication networks, appropriate path planning can improve the utilization of communication resources and bring a smooth communication experience to users. The following figure shows an inter-satellite optical communication network. User messages are sent from one terrestrial base station (nodes 44 to 77) and transmitted through satellites (nodes 00 to 33) in space to another terrestrial base station (nodes 44 to 77).
 
  
In the preceding figures, there are communication connections (edges for short) between base stations and satellites and between satellites. The base stations and satellites are referred to as nodes.
 User messages are transmitted on these edges and referred to as flows. Some users may make video calls with friends, and some users may send short messages to their family members. Therefore, the message traffic (called flow rate) of each user differs.
 There are many parallel edges (for example, edges 00, 11, and 22) between two nodes, and the capacity of each edge also differs. Larger capacity indicates that more user messages can be transmitted, as well as shorter transmission distance indicates lower latency and better communication quality.
 Nodes also have their internal structure. As shown below, some edges inside a node cannot communicate with each other because these edges (constrained edge pair) are not fully connected. For example, edge 55 and edge 77 inside node 22 cannot communicate with each other, and therefore flows cannot pass through node 22 by traversing the two unconnected edges.
 
  
Now, in the input network, the source node, target node, and required flow rate for each user flow are specified. Because network resources are limited, paths may not be successfully calculated for all user flows. We hope that you can provide a solution with the highest score.
Note, that 
  all edges are undirected, so flows may come in both directions,  edges has both capacity and length (named distance),  several flows may use the same edge,  flows may come through the same edge in opposite directions simultaneously,  for the purpose of this problem, there is no difference between satellites and base stations, so flows may come through several base stations before reaching the destination station.  
Constraints
 
  The capacity of each edge is limited. The total rate of all flows carried by an edge cannot exceed the capacity of the edge. The capacity limits the total flows in both directions.   The calculated flow path does not allow loops or cycles.   Due to the hardware limitation inside satellites, the number of flows passing through a node (including source and target node) cannot exceed the site flow limit (SFLSFL) of the node. The value of SFLSFL is 200200.   There are multiple parallel edges between two nodes, which may belong to different groups. Links in each group are managed by the same chip on a node, and there is a group flow limit (GFLGFL). The total number of different flows on all the edges in a group cannot exceed the GFLGFL of the group. The value of GFLGFL is 100100.   By default, all edges are connected to each other in each node. But there are some constrained edge pairs — the pairs of edges inside specified nodes that cannot communicate with each other.   You can make no more than 22 submissions on each 55 minutes interval. 
