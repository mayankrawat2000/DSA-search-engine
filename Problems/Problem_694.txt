An ant moves on the real line with constant speed of 11 unit per second. It starts at 00 and always moves to the right (so its position increases by 11 each second).
There are nn portals, the ii-th of which is located at position xixi and teleports to position yi<xiyi<xi. Each portal can be either active or inactive. The initial state of the ii-th portal is determined by sisi: if si=0si=0 then the ii-th portal is initially inactive, if si=1si=1 then the ii-th portal is initially active. When the ant travels through a portal (i.e., when its position coincides with the position of a portal): 
  if the portal is inactive, it becomes active (in this case the path of the ant is not affected);  if the portal is active, it becomes inactive and the ant is instantly teleported to the position yiyi, where it keeps on moving as normal. 
How long (from the instant it starts moving) does it take for the ant to reach the position xn+1xn+1? It can be shown that this happens in a finite amount of time. Since the answer may be very large, compute it modulo 998244353998244353.
