There are n+2n+2 towns located on a coordinate line, numbered from 00 to n+1n+1. The ii-th town is located at the point ii.
You build a radio tower in each of the towns 1,2,…,n1,2,…,n with probability 1212 (these events are independent). After that, you want to set the signal power on each tower to some integer from 11 to nn (signal powers are not necessarily the same, but also not necessarily different). The signal from a tower located in a town ii with signal power pp reaches every city cc such that |c−i|<p|c−i|<p.
After building the towers, you want to choose signal powers in such a way that:
  towns 00 and n+1n+1 don't get any signal from the radio towers;  towns 1,2,…,n1,2,…,n get signal from exactly one radio tower each. 
For example, if n=5n=5, and you have built the towers in towns 22, 44 and 55, you may set the signal power of the tower in town 22 to 22, and the signal power of the towers in towns 44 and 55 to 11. That way, towns 00 and n+1n+1 don't get the signal from any tower, towns 11, 22 and 33 get the signal from the tower in town 22, town 44 gets the signal from the tower in town 44, and town 55 gets the signal from the tower in town 55.
Calculate the probability that, after building the towers, you will have a way to set signal powers to meet all constraints.
